@page "/customer/list"
@attribute [Authorize]

<div class="context-menu">
    <Label Text="Toevoegen" />
    <Button Text="Klant" Href="/customer/add" />
</div>
<div class="three-column-layout">
    <div class="one-third">
        <Title Text="Filteropties" />
        <div style="display: flex; justify-content: space-between;">
            <Button Text="Reset" OnClick="() => ResetFilter()" />
            <Button Text="Filteren" OnClick="@HandleFilter"/>
        </div>

        <Searchbar PlaceHolder="Geef een zoekterm in" @bind-Searchterm="@SearchValue" />

        <div class="reset-area">
            <div class="filterbuttonarea">
                <p>Type: </p>
                <Button Text="Intern" OnClick="@FilterIntern" Toggle=@toggleIntern />
                <Button Text="Extern" OnClick="@FilterExtern" Toggle=@toggleExtern />
            </div>
        </div>
    </div>
    <div class="two-thirds">
        <Title Text="Alle klanten" />
        @if (customers.Any())
        {
            
            <div class="two-columns-container">
                <div>
                    @foreach (var customer in customers.Take(10))
                    {
                        <EntityCard Value="@customer.Name" Active="@true" Href=@string.Concat("customer/", customer.Id)></EntityCard>
                    }
                </div>
                <div>
                    @foreach (var customer in customers.Skip(10).Take(10))
                    {
                        <EntityCard Value="@customer.Name" Active="@true" Href=@string.Concat("customer/", customer.Id)></EntityCard>
                    }
                </div>
            </div>
        }
        else
        {
            <NoResultsMsg Message="Oei, er zijn geen klanten met de gegeven zoekcriteria." />
        }
    
    <PageSelector OnClick="@ClickHandler" NumberOfPages=@totalPages SelectedPage="@selectedPage" />
    </div>
</div>


