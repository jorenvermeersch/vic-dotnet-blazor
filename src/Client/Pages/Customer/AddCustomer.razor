@page "/customer/add"
@layout NoGlobalSearchLayout
@attribute [Authorize(Roles = "Master, Administrator")]

<PageTitle>Klant Toevoegen</PageTitle>

<div class="context-menu">
    <span class="context-menu-label">Klant toevoegen</span>
    <Button Text="Toevoegen" />
</div>
<div class="three-column-layout">
    <div class="one-third">
        <Title Text="Algemene informatie" />
        <AddInput Type="@Input.InputType.TEXT" Label="Naam" Required="@true" />
        <AddInput Type="@Input.InputType.SELECT" Label="Department" Required="@true" />
        <AddInput Type="@Input.InputType.SELECT" Label="Opleiding" Required="@true" />
        <AddInput PlaceHolder="" Type="@Input.InputType.SELECT" Label="Type" Required="@true" />
    </div>
    <div class="one-third">
        <Title Text="Contactgegevens" />
        <AddInput Type="@Input.InputType.TEXT" Label="Voornaam" Required="@true" />
        <AddInput Type="@Input.InputType.TEXT" Label="Naam" Required="@true" />
        <AddInput Type="@Input.InputType.TEXT" Label="E-mailadres" Required="@true" />
        <AddInput Type="@Input.InputType.TEXT" Label="Telefoonnummer" />
    </div>
    <div class="one-third">
        <Title Text="Back-up contactgegevens" />
        <AddInput Type="@Input.InputType.TEXT" Label="Voornaam" Required="@_backuprequired" Action="(value) => Makerequired(value)" OptionalId="0" />
        <AddInput Type="@Input.InputType.TEXT" Label="Naam" Required="@_backuprequired" Action="(value) => Makerequired(value)" OptionalId="1" />
        <AddInput Type="@Input.InputType.TEXT" Label="E-mailadres" Required="@_backuprequired" Action="(value) => Makerequired(value)" OptionalId="2" />
        <AddInput Type="@Input.InputType.TEXT" Label="Telefoonnummer" />

    </div>

</div>


@code {
    private string _customcss = "background-color: white";

    private bool _backuprequired = false;

    private string[] _values = new string[3] { "", "", "" };

    public void Makerequired(string value) {
        int index = int.Parse(value.Substring(0, 1));
        string txt = value.Substring(1);
        _values[index] = txt;

        _backuprequired = _values.All(e => (e == "" || e == null)) ? false : true;
    }

}
