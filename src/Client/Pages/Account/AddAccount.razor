@page "/account/add"
@layout NoGlobalSearchLayout
@namespace Shared
@using Account
@inject IAccountService accountService
@attribute [Authorize(Roles = "Master")]

<PageTitle>Account Toevoegen</PageTitle>

<EditForm Model="@Account">
    <div class="three-column-layout">
        <div class="one-third">
            <Title Text="Algemene informatie" />
            <AddInput Type="@Input.InputType.SELECT" Label="Rol" Required="@true" Items="@roles" @bind-Value="Account.Role" For="@(()=>Account.Role)"/>
            <AddInput Type="@Input.InputType.TEXT" Label="Departement" Required="@true" @bind-Value="Account.Department" For="@(() => Account.Department)" />
            <AddInput Type="@Input.InputType.TEXT" Label="Opleiding" Required="@false" @bind-Value="Account.Education" For="@(() => Account.Education)" />
        </div>
        <div class="one-third">
            <Title Text="Accountgegevens" />
            <AddInput Type="@Input.InputType.TEXT" Label="Voornaam" Required="@true" @bind-Value="Account.Firstname" For="@(() => Account.Firstname)" />
            <AddInput Type="@Input.InputType.TEXT" Label="Naam" Required="@true" @bind-Value="Account.Lastname" For="@(() => Account.Lastname)" />
            <AddInput Type="@Input.InputType.TEXT" Label="E-mailadres" Required="@true" @bind-Value="Account.Email" For="@(() => Account.Email)" />
            <AddInput Type="@Input.InputType.TEXT" Label="Initiële wachtwoord" @bind-Value="Account.PasswordHash" For="@(() => Account.PasswordHash)" />
        </div>
        <div class="one-third"></div>
    </div>
</EditForm>

@code {
    private AccountDto.Details Account { get; set; } = new();
    private List<string> roles = new() { "Admin", "Waarnemer" };
}
